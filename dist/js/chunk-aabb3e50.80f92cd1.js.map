{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/views/Cart.vue","webpack:///./src/views/Cart.vue?7a75"],"names":["$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","i","k","length","len","E","this","A","n","arguments","TypeError","class","id","width","colspan","active","isLoading","deleteCart","type","purchase","item","key","product","category","title","price","qty","final_total","deleteCartItem","finalTotal","$router","push","data","methods","updateCart","$http","get","then","res","carts","console","log","catch","err","delete","success","mounted","render"],"mappings":"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","file":"js/chunk-aabb3e50.80f92cd1.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","<template>\n  <div class=\"m-top container\">\n    <Loading :active=\"isLoading\"></Loading>\n    <button\n      @click=\"deleteCart\"\n      class=\"btn btn-outline-danger m-2\"\n      type=\"button\"\n    >\n      清空購物車\n    </button>\n    <table class=\"table align-middle\" id=\"cart\">\n      <thead>\n        <tr>\n          <th width=\"60\">分類</th>\n          <th>品名</th>\n          <th class=\"text-center\">單價</th>\n          <th width=\"50\" class=\"text-center\">數量</th>\n          <th class=\"text-center\">總價</th>\n          <th class=\"text-end\">刪除</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"item in purchase\" :key=\"item\">\n          <td>\n            <span class=\"badge bg-secondary\">{{ item.product.category }}</span>\n          </td>\n          <td>{{ item.product.title }}</td>\n          <td class=\"text-center\">{{ item.product.price }}</td>\n          <td class=\"text-center\">{{ item.qty }}</td>\n          <td class=\"text-center\">{{ item.final_total }}</td>\n          <td class=\"text-end\">\n            <button class=\"btn text-danger\" @click=\"deleteCartItem(item.id)\">\n              <i class=\"fas fa-times\"></i>\n            </button>\n          </td>\n        </tr>\n      </tbody>\n      <tfoot>\n        <tr>\n          <td class=\"text-end\" colspan=\"5\">總計</td>\n          <td class=\"text-center\">{{ finalTotal }}</td>\n        </tr>\n      </tfoot>\n    </table>\n    <div class=\"d-flex justify-content-end\">\n      <button type=\"button\" class=\"btn btn-outline-danger\"\n      @click=\"this.$router.push('/home/about')\">填寫收件資料</button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      purchase: [],\n      finalTotal: '',\n      isLoading: false,\n    };\n  },\n  methods: {\n    updateCart() {\n      this.isLoading = true;\n      this.$http\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`)\n        .then((res) => {\n          this.purchase = res.data.data.carts;\n          this.finalTotal = res.data.data.final_total;\n          this.isLoading = false;\n          console.log(res);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    },\n    deleteCart() {\n      this.isLoading = true;\n      this.$http\n        .delete(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`,\n        )\n        .then(() => {\n          this.updateCart();\n          this.isLoading = false;\n        });\n    },\n    deleteCartItem(id) {\n      this.isLoading = true;\n      this.$http\n        .delete(\n          `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`,\n        )\n        .then((res) => {\n          if (res.data.success) {\n            this.updateCart();\n            this.isLoading = false;\n          }\n        });\n    },\n  },\n  mounted() {\n    this.updateCart();\n  },\n};\n</script>\n","import { render } from \"./Cart.vue?vue&type=template&id=4ef3697b\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}